(this["webpackJsonpstand-up-viewer"]=this["webpackJsonpstand-up-viewer"]||[]).push([[0],{40:function(e,t,n){e.exports=n(48)},48:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),i=n.n(o),c=n(12),l=n(83),s=n(34),u=n(86),m=n(85),d=n(84);function f(e,t){var n=localStorage.getItem(e);n&&(n=JSON.parse(n));var a=r.a.useState(n||t),o=Object(c.a)(a,2),i=o[0],l=o[1];return[i,function(t){return localStorage.setItem(e,JSON.stringify(t)),l(t)}]}var p=function(){var e=f("url",""),t=Object(c.a)(e,2),n=t[0],a=t[1],o=r.a.useState(n),i=Object(c.a)(o,2),p=i[0],v=i[1],h=f("data",null),g=Object(c.a)(h,2),E=g[0],S=g[1],y=f("activeListIndex",2),b=Object(c.a)(y,2),w=b[0],C=b[1],O=r.a.useState(null),j=Object(c.a)(O,2),k=j[0],x=j[1],I=r.a.useState(E?"SUCCESS":"INIT"),L=Object(c.a)(I,2),B=L[0],J=L[1],N=E&&E.lists[w]?w:0,R=E&&E.lists[N];function T(e){e.preventDefault(),a(p)}return r.a.useEffect((function(){n&&""!==n&&(J("LOADING"),fetch(n).then((function(e){return e.json()})).then((function(e){var t={};return e.cards.forEach((function(e){if(!e.closed&&"set notes"!==e.name.trim().toLowerCase()){t[e.idList]||(t[e.idList]=[]);var n=e.desc.split("\n"),a=n.findIndex((function(e){return"---"===e.trim().toLowerCase()}));a>=0&&(n=n.slice(0,a)),n=n.join("\n"),t[e.idList].push({id:e.id,desc:n,name:e.name,pos:e.pos})}})),{id:e.id,name:e.name,lists:e.lists.filter((function(e){return!e.closed})).sort((function(e,t){return e.pos-t.pos})).map((function(e){return{id:e.id,name:e.name,cards:(t[e.id]||[]).sort((function(e,t){return e.pos-t.pos}))}}))}})).then(S).then((function(){J("SUCCESS")})).catch((function(){J("ERROR")})))}),[n]),r.a.createElement("div",{style:{maxWidth:600,margin:"0 auto",padding:20}},r.a.createElement("form",{onSubmit:T,style:{display:"flex",alignItems:"flex-end"}},r.a.createElement(m.a,{label:"Trello .json url",type:"text",value:p,onChange:function(e){return v(e.target.value)},style:{flex:1}}),r.a.createElement(l.a,{onSubmit:T,onClick:T,variant:"contained",style:{marginLeft:20}},"Set")),E&&r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){x(e.currentTarget)},variant:"contained",style:{margin:"20px 0"}},"Select List"),r.a.createElement(s.a,{id:"simple-menu",anchorEl:k,keepMounted:!0,open:Boolean(k),onClose:function(){x(null)}},E.lists.map((function(e,t){var n=e.id,a=e.name;return r.a.createElement(u.a,{id:n,onClick:function(){return C(t)}},a)})))),R?r.a.createElement("div",null,r.a.createElement(d.a,{variant:"h4",component:"h1",gutterBottom:!0},R.name),r.a.createElement("ul",{style:{listStyle:"none",margin:0,padding:0}},R.cards.map((function(e){var t=e.id,n=e.name,a=e.desc;return r.a.createElement("li",{key:t},r.a.createElement(d.a,{variant:"h5",component:"h3",gutterBottom:!0},n),a.split("\n").map((function(e,t){return r.a.createElement(d.a,{key:t,variant:"body1",gutterBottom:!0},e)})))})))):r.a.createElement(d.a,{variant:"body1"},B))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.795b54b7.chunk.js.map